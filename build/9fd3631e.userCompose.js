webpackJsonp([13],{2131:function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=a(u),p=(n(96),n(831)),f=n(56),d=n(105),h=n(416),m=a(h),g=n(2138),y=n(2139),C=n(7),v=a(C);n(417);var _=n(2135),b=a(_),x=n(2146),E=a(x),w=n(2137),O=n(2225),A=r(O),S=d.Button.Group,D=(d.Tabs.TabPane,d.Menu.SubMenu,d.Layout.Content),T=d.Form.Item,k=d.Select.Option;v.default.locale("zh-cn");var M=(n(269).default,d.DatePicker.MonthPicker,d.DatePicker.RangePicker),N="YYYY-MM-DD",R=function(e){function t(e){return o(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"componentWillMount",value:function(){b.default.start();var e={appCode:this.props.userCompose.appCode,channelCategory:this.props.userCompose.channelCategory,channelGroup:this.props.userCompose.channelGroup};this.getChannelGroup(e);var t={appCode:this.props.userCompose.appCode,channelCategory:this.props.userCompose.channelCategory,channelGroup:this.props.userCompose.channelGroup,channelName:this.props.userCompose.channelName,endDate:this.props.userCompose.endDate,startDate:this.props.userCompose.startDate};this.getCharts(t);var n={appCode:this.props.userCompose.appCode,channelCategory:this.props.userCompose.channelCategory,channelGroup:this.props.userCompose.channelGroup,channelName:this.props.userCompose.channelName,endDate:this.props.userCompose.endDate,startDate:this.props.userCompose.startDate,limit:this.props.userCompose.limit,offset:this.props.userCompose.offset,type:this.props.userCompose.type};this.props.getTables(n)}},{key:"componentDidUpdate",value:function(){this.getChartShow()}},{key:"componentDidMount",value:function(){b.default.done()}},{key:"componentWillUpdate",value:function(e){if(e.userCompose.excelData!=this.props.userCompose.excelData){var t=(0,g.dealDownloadTitle)(this.props.userCompose.columns),n=(0,g.dealDownloadColumns)(this.props.userCompose.columns),r=(0,g.dealDownloadData)(e.userCompose.excelData,n);(0,g.downloadExcle)(r,t,this.fileName)}}},{key:"getChartShow",value:function(){var e=(0,E.default)(this.props.userCompose.chartsData),t=e().distinct("day"),n=e().select("maLmn"),r=e().select("maLta"),a=e().select("maHa"),o=e().select("maLha"),s=e().select("mtdMnu"),i=[];i.push({name:"本月薪增",type:"bar",stack:"bar",data:s}),i.push({name:"上月新增本月回访",type:"bar",stack:"bar",data:n}),i.push({name:"上上月活跃上月活跃本月回访",type:"bar",stack:"bar",data:r}),i.push({name:"历史活跃上月活跃本月回访",type:"bar",stack:"bar",data:o}),i.push({name:"历史活跃本月回访",type:"bar",stack:"bar",data:a});var l=["本月薪增","上月新增本月回访","上上月活跃上月活跃本月回访","历史活跃上月活跃本月回访","历史活跃本月回访"],u={names:l,xAxis:t,series:i};if(0!=this.props.userCompose.chartsData.length){var c=m.default.init(this.refs.charts1),p=(0,y.Bar)(u);c.setOption(p),window.onresize=c.resize}else this.props.userCompose.chartsNoData&&(this.refs.charts1.innerHTML='<div style="text-align:center">没有查询到相关数据</div>')}},{key:"getCharts",value:function(e){this.props.getcharts(e)}},{key:"getChannelGroup",value:function(e){this.props.getChannelGroup(e)}},{key:"changeChannelCategory",value:function(e){var t={appCode:this.props.userCompose.appCode,channelCategory:e,channelGroup:this.props.userCompose.channelGroup};this.props.changeChannelCategory(t,this.getChannelGroup.bind(this))}},{key:"changeOs",value:function(e){var t={appCode:e,channelCategory:this.props.userCompose.channelCategory,channelGroup:this.props.userCompose.channelGroup};this.props.changeOs(t,this.getChannelGroup.bind(this))}},{key:"handleChange",value:function(e){var t={appCode:this.props.userCompose.appCode,channelCategory:this.props.userCompose.channelCategory,channelGroup:e};this.getChannelGroup(t)}},{key:"changeDate",value:function(e,t){t[1]>this.props.userCompose.maxDate?d.notification.error({message:"日期错误",description:"超出日期选择范围"}):this.props.changeDate(t)}},{key:"clickQuery",value:function(){var e={appCode:this.props.userCompose.appCode,channelCategory:this.props.userCompose.channelCategory,channelGroup:this.props.userCompose.channelGroup,channelName:this.props.userCompose.channelName,endDate:this.props.userCompose.endDate,startDate:this.props.userCompose.startDate};this.getCharts(e);var t={appCode:this.props.userCompose.appCode,channelCategory:this.props.userCompose.channelCategory,channelGroup:this.props.userCompose.channelGroup,channelName:this.props.userCompose.channelName,endDate:this.props.userCompose.endDate,startDate:this.props.userCompose.startDate,limit:this.props.userCompose.limit,offset:1,type:this.props.userCompose.type};this.props.getTables(t)}},{key:"handleTableChange",value:function(e,t,n){var r={appCode:this.props.userCompose.appCode,channelCategory:this.props.userCompose.channelCategory,channelGroup:this.props.userCompose.channelGroup,channelName:this.props.userCompose.channelName,endDate:this.props.userCompose.endDate,startDate:this.props.userCompose.startDate,limit:e.pageSize,offset:e.current,type:this.props.userCompose.type};this.props.getTables(r)}},{key:"clickType",value:function(e){var t={appCode:this.props.userCompose.appCode,channelCategory:this.props.userCompose.channelCategory,channelGroup:this.props.userCompose.channelGroup,channelName:this.props.userCompose.channelName,endDate:this.props.userCompose.endDate,startDate:this.props.userCompose.startDate,limit:10,offset:1,type:parseInt(e.currentTarget.dataset.id,10)};this.props.getTables(t)}},{key:"typeTpl",value:function(){return 1==this.props.userCompose.type?c.default.createElement(S,{style:{marginBottom:"20px",float:"right",marginRight:"10px"}},c.default.createElement(d.Button,{key:1,type:"primary","data-id":1},"汇总"),c.default.createElement(d.Button,{key:2,type:"defualt",onClick:this.clickType.bind(this),"data-id":2},"明细")):c.default.createElement(S,{style:{marginBottom:"20px",float:"right",marginRight:"10px"}},c.default.createElement(d.Button,{key:1,type:"defualt",onClick:this.clickType.bind(this),"data-id":1},"汇总"),c.default.createElement(d.Button,{key:2,type:"primary","data-id":2},"明细"))}},{key:"getDownloadName",value:function(e){var t="全部",n="汇总";return n=1==e.type?"汇总":2==e.type?"明细":"迁出用户",e.channelName?t=e.channelName:e.channelGroup?t=e.channelGroup:e.channelCategory?t="1"==e.channelCategory?"线上":"线下":e.appCode&&(t="24"==e.appCode?"Android":"iOS"),"用户构成-"+t+"-"+n+"-("+e.startDate+"至"+e.endDate+").xlsx"}},{key:"downLoadExcel",value:function(){var e={appCode:this.props.userCompose.appCode,channelGroup:this.props.userCompose.channelGroup,channelName:this.props.userCompose.channelName,startDate:this.props.userCompose.startDate,endDate:this.props.userCompose.endDate,channelCategory:this.props.userCompose.channelCategory,offset:1,limit:-1,type:this.props.userCompose.type};this.fileName=this.getDownloadName(e),this.props.getDownLoadData(e)}},{key:"render",value:function(){var e={current:this.props.userCompose.offset,pageSize:this.props.userCompose.limit,total:this.props.userCompose.total,defaultPageSize:this.props.userCompose.limit,showSizeChanger:!0};return(0,w.addKey)(this.props.userCompose.tableData,"userCompose"+(new Date).getTime()),c.default.createElement(d.Layout,{style:{marginLeft:180,position:"relative",marginTop:60,overflow:"hidden"}},c.default.createElement(D,{className:"channel_filter"},c.default.createElement(d.Form,{layout:"inline"},c.default.createElement(T,{label:"操作系统"},c.default.createElement(d.Select,{placeholder:"操作系统选择",dropdownMatchSelectWidth:!0,value:this.props.userCompose.appCode,className:"online",onChange:this.changeOs.bind(this)},c.default.createElement(k,{value:""},"全部"),c.default.createElement(k,{value:"24"},"Android"),c.default.createElement(k,{value:"27"},"iOS"))),c.default.createElement(T,{label:"线上\\线下"},c.default.createElement(d.Select,{placeholder:"Select a option and change input text above",dropdownMatchSelectWidth:!0,value:this.props.userCompose.channelCategory,onChange:this.changeChannelCategory.bind(this),className:"appCode"},c.default.createElement(k,{value:""},"全部"),c.default.createElement(k,{value:"1"},"线上"),c.default.createElement(k,{value:"2"},"线下"))),c.default.createElement(T,{label:"渠道组"},c.default.createElement(d.Select,{showSearch:!0,placeholder:"搜索渠道组",dropdownMatchSelectWidth:!0,value:this.props.userCompose.channelGroup,className:"channelGroup",optionFilterProp:"children",onChange:this.handleChange.bind(this)},c.default.createElement(k,{value:""},"全部"),(0,w.renderGroupList)(this.props.userCompose.groupList))),c.default.createElement(T,{label:""},c.default.createElement(M,{value:[(0,v.default)(this.props.userCompose.startDate,N),(0,v.default)(this.props.userCompose.endDate,N)],format:N,allowClear:!1,onChange:this.changeDate.bind(this),className:"channel_DataPicker"})),c.default.createElement(T,{label:""},c.default.createElement(d.Button,{type:"primary",size:"default",onClick:this.clickQuery.bind(this)},"查询")))),c.default.createElement(D,{className:"channel_charts"},c.default.createElement(d.Card,{title:"MTD MAD用户构成分析",noHovering:!0,style:{minHeight:"380px"}},c.default.createElement(d.Spin,{spinning:this.props.userCompose.chartsLoading},c.default.createElement("div",{ref:"charts1",style:{width:"100%",minHeight:"300px"}})))),c.default.createElement(D,{className:"channel_table"},c.default.createElement("div",{style:{width:"100%"},className:"clearfix"},c.default.createElement(d.Breadcrumb,{style:{float:"left",height:"28px",lineHeight:"28px"}},c.default.createElement(d.Breadcrumb.Item,{key:1},"数据名细")),c.default.createElement(d.Button,{type:"primary",style:{float:"right"},onClick:this.downLoadExcel.bind(this),icon:"download"},"下载"),this.typeTpl()),c.default.createElement("div",null),c.default.createElement(d.Table,{loading:this.props.userCompose.tableLoading,locale:{emptyText:"暂无数据"},columns:(0,w.dealConfigColumns)(this.props.userCompose.columns),dataSource:this.props.userCompose.tableData,pagination:e,onChange:this.handleTableChange.bind(this)})))}}]),t}(c.default.Component),j=function(e){return{userCompose:e.Reducer.userCompose}},I=function(e,t){return(0,f.bindActionCreators)(A,e)};t.default=(0,p.connect)(j,I)(R)},2133:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;/*!
  * Reqwest! A general purpose XHR connection manager
  * license MIT (c) Dustin Diaz 2015
  * https://github.com/ded/reqwest
  */
!function(e,t,n){void 0!==module&&module.exports?module.exports=n():(__WEBPACK_AMD_DEFINE_FACTORY__=n,void 0!==(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(0,0,function(){function succeed(e){var t=protocolRe.exec(e.url);return t=t&&t[1]||context.location.protocol,httpsRe.test(t)?twoHundo.test(e.request.status):!!e.request.response}function handleReadyState(e,t,n){return function(){return e._aborted?n(e.request):e._timedOut?n(e.request,"Request is aborted: timeout"):void(e.request&&4==e.request[readyState]&&(e.request.onreadystatechange=noop,succeed(e)?t(e.request):n(e.request)))}}function setHeaders(e,t){var n,r=t.headers||{};r.Accept=r.Accept||defaultHeaders.accept[t.type]||defaultHeaders.accept["*"];var a="undefined"!=typeof FormData&&t.data instanceof FormData;t.crossOrigin||r[requestedWith]||(r[requestedWith]=defaultHeaders.requestedWith),r[contentType]||a||(r[contentType]=t.contentType||defaultHeaders.contentType);for(n in r)r.hasOwnProperty(n)&&"setRequestHeader"in e&&e.setRequestHeader(n,r[n])}function setCredentials(e,t){void 0!==t.withCredentials&&void 0!==e.withCredentials&&(e.withCredentials=!!t.withCredentials)}function generalCallback(e){lastValue=e}function urlappend(e,t){return e+(/\?/.test(e)?"&":"?")+t}function handleJsonp(e,t,n,r){var a=uniqid++,o=e.jsonpCallback||"callback",s=e.jsonpCallbackName||reqwest.getcallbackPrefix(a),i=new RegExp("((^|\\?|&)"+o+")=([^&]+)"),l=r.match(i),u=doc.createElement("script"),c=0,p=-1!==navigator.userAgent.indexOf("MSIE 10.0");return l?"?"===l[3]?r=r.replace(i,"$1="+s):s=l[3]:r=urlappend(r,o+"="+s),context[s]=generalCallback,u.type="text/javascript",u.src=r,u.async=!0,void 0===u.onreadystatechange||p||(u.htmlFor=u.id="_reqwest_"+a),u.onload=u.onreadystatechange=function(){if(u[readyState]&&"complete"!==u[readyState]&&"loaded"!==u[readyState]||c)return!1;u.onload=u.onreadystatechange=null,u.onclick&&u.onclick(),t(lastValue),lastValue=void 0,head.removeChild(u),c=1},head.appendChild(u),{abort:function(){u.onload=u.onreadystatechange=null,n({},"Request is aborted: timeout",{}),lastValue=void 0,head.removeChild(u),c=1}}}function getRequest(e,t){var n,r=this.o,a=(r.method||"GET").toUpperCase(),o="string"==typeof r?r:r.url,s=!1!==r.processData&&r.data&&"string"!=typeof r.data?reqwest.toQueryString(r.data):r.data||null,i=!1;return"jsonp"!=r.type&&"GET"!=a||!s||(o=urlappend(o,s),s=null),"jsonp"==r.type?handleJsonp(r,e,t,o):(n=r.xhr&&r.xhr(r)||xhr(r),n.open(a,o,!1!==r.async),setHeaders(n,r),setCredentials(n,r),context[xDomainRequest]&&n instanceof context[xDomainRequest]?(n.onload=e,n.onerror=t,n.onprogress=function(){},i=!0):n.onreadystatechange=handleReadyState(this,e,t),r.before&&r.before(n),i?setTimeout(function(){n.send(s)},200):n.send(s),n)}function Reqwest(e,t){this.o=e,this.fn=t,init.apply(this,arguments)}function setType(e){if(null!==e)return e.match("json")?"json":e.match("javascript")?"js":e.match("text")?"html":e.match("xml")?"xml":void 0}function init(o,fn){function complete(e){for(o.timeout&&clearTimeout(self.timeout),self.timeout=null;self._completeHandlers.length>0;)self._completeHandlers.shift()(e)}function success(resp){var type=o.type||resp&&setType(resp.getResponseHeader("Content-Type"));resp="jsonp"!==type?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(e){}if(r)switch(type){case"json":try{resp=context.JSON?context.JSON.parse(r):eval("("+r+")")}catch(e){return error(resp,"Could not parse JSON in response",e)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML}for(self._responseArgs.resp=resp,self._fulfilled=!0,fn(resp),self._successHandler(resp);self._fulfillmentHandlers.length>0;)resp=self._fulfillmentHandlers.shift()(resp);complete(resp)}function timedOut(){self._timedOut=!0,self.request.abort()}function error(e,t,n){for(e=self.request,self._responseArgs.resp=e,self._responseArgs.msg=t,self._responseArgs.t=n,self._erred=!0;self._errorHandlers.length>0;)self._errorHandlers.shift()(e,t,n);complete(e)}this.url="string"==typeof o?o:o.url,this.timeout=null,this._fulfilled=!1,this._successHandler=function(){},this._fulfillmentHandlers=[],this._errorHandlers=[],this._completeHandlers=[],this._erred=!1,this._responseArgs={};var self=this;fn=fn||function(){},o.timeout&&(this.timeout=setTimeout(function(){timedOut()},o.timeout)),o.success&&(this._successHandler=function(){o.success.apply(o,arguments)}),o.error&&this._errorHandlers.push(function(){o.error.apply(o,arguments)}),o.complete&&this._completeHandlers.push(function(){o.complete.apply(o,arguments)}),this.request=getRequest.call(this,success,error)}function reqwest(e,t){return new Reqwest(e,t)}function normalize(e){return e?e.replace(/\r?\n/g,"\r\n"):""}function serial(e,t){var n,r,a,o,s=e.name,i=e.tagName.toLowerCase(),l=function(e){e&&!e.disabled&&t(s,normalize(e.attributes.value&&e.attributes.value.specified?e.value:e.text))};if(!e.disabled&&s)switch(i){case"input":/reset|button|image|file/i.test(e.type)||(n=/checkbox/i.test(e.type),r=/radio/i.test(e.type),a=e.value,(!(n||r)||e.checked)&&t(s,normalize(n&&""===a?"on":a)));break;case"textarea":t(s,normalize(e.value));break;case"select":if("select-one"===e.type.toLowerCase())l(e.selectedIndex>=0?e.options[e.selectedIndex]:null);else for(o=0;e.length&&o<e.length;o++)e.options[o].selected&&l(e.options[o])}}function eachFormElement(){var e,t,n=this,r=function(e,t){var r,a,o;for(r=0;r<t.length;r++)for(o=e[byTag](t[r]),a=0;a<o.length;a++)serial(o[a],n)};for(t=0;t<arguments.length;t++)e=arguments[t],/input|select|textarea/i.test(e.tagName)&&serial(e,n),r(e,["input","select","textarea"])}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var e={};return eachFormElement.apply(function(t,n){t in e?(e[t]&&!isArray(e[t])&&(e[t]=[e[t]]),e[t].push(n)):e[t]=n},arguments),e}function buildParams(e,t,n,r){var a,o,s,i=/\[\]$/;if(isArray(t))for(o=0;t&&o<t.length;o++)s=t[o],n||i.test(e)?r(e,s):buildParams(e+"["+("object"==typeof s?o:"")+"]",s,n,r);else if(t&&"[object Object]"===t.toString())for(a in t)buildParams(e+"["+a+"]",t[a],n,r);else r(e,t)}var context=this;if("window"in context)var doc=document,byTag="getElementsByTagName",head=doc[byTag]("head")[0];else{var XHR2;try{XHR2=__webpack_require__(2136)}catch(e){throw new Error("Peer dependency `xhr2` required! Please npm install xhr2")}}var httpsRe=/^http/,protocolRe=/(^\w+):\/\//,twoHundo=/^(20\d|1223)$/,readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",uniqid=0,callbackPrefix="reqwest_"+ +new Date,lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray="function"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(e){if(!0===e.crossOrigin){var t=context[xmlHttpRequest]?new XMLHttpRequest:null;if(t&&"withCredentials"in t)return t;if(context[xDomainRequest])return new XDomainRequest;throw new Error("Browser does not support cross-origin requests")}return context[xmlHttpRequest]?new XMLHttpRequest:XHR2?new XHR2:new ActiveXObject("Microsoft.XMLHTTP")},globalSetupOptions={dataFilter:function(e){return e}};return Reqwest.prototype={abort:function(){this._aborted=!0,this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(e,t){return e=e||function(){},t=t||function(){},this._fulfilled?this._responseArgs.resp=e(this._responseArgs.resp):this._erred?t(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):(this._fulfillmentHandlers.push(e),this._errorHandlers.push(t)),this},always:function(e){return this._fulfilled||this._erred?e(this._responseArgs.resp):this._completeHandlers.push(e),this},fail:function(e){return this._erred?e(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(e),this},catch:function(e){return this.fail(e)}},reqwest.serializeArray=function(){var e=[];return eachFormElement.apply(function(t,n){e.push({name:t,value:n})},arguments),e},reqwest.serialize=function(){if(0===arguments.length)return"";var e,t,n=Array.prototype.slice.call(arguments,0);return e=n.pop(),e&&e.nodeType&&n.push(e)&&(e=null),e&&(e=e.type),t="map"==e?serializeHash:"array"==e?reqwest.serializeArray:serializeQueryString,t.apply(null,n)},reqwest.toQueryString=function(e,t){var n,r,a=t||!1,o=[],s=encodeURIComponent,i=function(e,t){t="function"==typeof t?t():null==t?"":t,o[o.length]=s(e)+"="+s(t)};if(isArray(e))for(r=0;e&&r<e.length;r++)i(e[r].name,e[r].value);else for(n in e)e.hasOwnProperty(n)&&buildParams(n,e[n],a,i);return o.join("&").replace(/%20/g,"+")},reqwest.getcallbackPrefix=function(){return callbackPrefix},reqwest.compat=function(e,t){return e&&(e.type&&(e.method=e.type)&&delete e.type,e.dataType&&(e.type=e.dataType),e.jsonpCallback&&(e.jsonpCallbackName=e.jsonpCallback)&&delete e.jsonpCallback,e.jsonp&&(e.jsonpCallback=e.jsonp)),new Reqwest(e,t)},reqwest.ajaxSetup=function(e){e=e||{};for(var t in e)globalSetupOptions[t]=e[t]},reqwest})},2134:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(414),o=r(a);(window.location.search.indexOf("debug")>0||window.location.search.indexOf("web_ci")>0)&&(o.default.mock("/data/overview/channelGroup.do","post",{status:!0,msg:"返回成功","data|20":[{appCode:24,channelCategory:2,channelDescribe:"",channelGroup:"",channelName:"@word(6)",channelTypeId:54,flag:1,id:"@natural(10, 9999)",isFree:0,programId:3}]}),o.default.mock("/data/overview/channel.do","post",{status:!0,msg:"返回成功","data|20":[{appCode:24,channelCategory:2,channelDescribe:"华为-新闻",channelGroup:"huawei_total_cpi_news",channelName:"@word(12)",channelTypeId:134,flag:1,id:153,isFree:0,programId:3,showCol:""}]}),o.default.mock("/common/firm.do","post",{status:!0,msg:"返回成功","data|20":[{firm:"@word(5)",id:"@natural(10, 9999)"}]}),o.default.mock("/common/brand.do","post",{status:!0,msg:"返回成功","data|20":[{brand:"@word(5)",firm:"@word(5)",id:"@natural(10, 9999)"}]}))},2135:function(e,t,n){var r,a;!function(o,s){r=s,void 0!==(a="function"==typeof r?r.call(t,n,t,e):r)&&(e.exports=a)}(0,function(){function e(e,t,n){return e<t?t:e>n?n:e}function t(e){return 100*(-1+e)}function n(e,n,r){var a;return a="translate3d"===u.positionUsing?{transform:"translate3d("+t(e)+"%,0,0)"}:"translate"===u.positionUsing?{transform:"translate("+t(e)+"%,0)"}:{"margin-left":t(e)+"%"},a.transition="all "+n+"ms "+r,a}function r(e,t){return("string"==typeof e?e:s(e)).indexOf(" "+t+" ")>=0}function a(e,t){var n=s(e),a=n+t;r(n,t)||(e.className=a.substring(1))}function o(e,t){var n,a=s(e);r(e,t)&&(n=a.replace(" "+t+" "," "),e.className=n.substring(1,n.length-1))}function s(e){return(" "+(e.className||"")+" ").replace(/\s+/gi," ")}function i(e){e&&e.parentNode&&e.parentNode.removeChild(e)}var l={};l.version="0.2.0";var u=l.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};l.configure=function(e){var t,n;for(t in e)void 0!==(n=e[t])&&e.hasOwnProperty(t)&&(u[t]=n);return this},l.status=null,l.set=function(t){var r=l.isStarted();t=e(t,u.minimum,1),l.status=1===t?null:t;var a=l.render(!r),o=a.querySelector(u.barSelector),s=u.speed,i=u.easing;return a.offsetWidth,c(function(e){""===u.positionUsing&&(u.positionUsing=l.getPositioningCSS()),p(o,n(t,s,i)),1===t?(p(a,{transition:"none",opacity:1}),a.offsetWidth,setTimeout(function(){p(a,{transition:"all "+s+"ms linear",opacity:0}),setTimeout(function(){l.remove(),e()},s)},s)):setTimeout(e,s)}),this},l.isStarted=function(){return"number"==typeof l.status},l.start=function(){l.status||l.set(0);var e=function(){setTimeout(function(){l.status&&(l.trickle(),e())},u.trickleSpeed)};return u.trickle&&e(),this},l.done=function(e){return e||l.status?l.inc(.3+.5*Math.random()).set(1):this},l.inc=function(t){var n=l.status;return n?("number"!=typeof t&&(t=(1-n)*e(Math.random()*n,.1,.95)),n=e(n+t,0,.994),l.set(n)):l.start()},l.trickle=function(){return l.inc(Math.random()*u.trickleRate)},function(){var e=0,t=0;l.promise=function(n){return n&&"resolved"!==n.state()?(0===t&&l.start(),e++,t++,n.always(function(){t--,0===t?(e=0,l.done()):l.set((e-t)/e)}),this):this}}(),l.render=function(e){if(l.isRendered())return document.getElementById("nprogress");a(document.documentElement,"nprogress-busy");var n=document.createElement("div");n.id="nprogress",n.innerHTML=u.template;var r,o=n.querySelector(u.barSelector),s=e?"-100":t(l.status||0),c=document.querySelector(u.parent);return p(o,{transition:"all 0 linear",transform:"translate3d("+s+"%,0,0)"}),u.showSpinner||(r=n.querySelector(u.spinnerSelector))&&i(r),c!=document.body&&a(c,"nprogress-custom-parent"),c.appendChild(n),n},l.remove=function(){o(document.documentElement,"nprogress-busy"),o(document.querySelector(u.parent),"nprogress-custom-parent");var e=document.getElementById("nprogress");e&&i(e)},l.isRendered=function(){return!!document.getElementById("nprogress")},l.getPositioningCSS=function(){var e=document.body.style,t="WebkitTransform"in e?"Webkit":"MozTransform"in e?"Moz":"msTransform"in e?"ms":"OTransform"in e?"O":"";return t+"Perspective"in e?"translate3d":t+"Transform"in e?"translate":"margin"};var c=function(){function e(){var n=t.shift();n&&n(e)}var t=[];return function(n){t.push(n),1==t.length&&e()}}(),p=function(){function e(e){return e.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(e,t){return t.toUpperCase()})}function t(e){var t=document.body.style;if(e in t)return e;for(var n,r=a.length,o=e.charAt(0).toUpperCase()+e.slice(1);r--;)if((n=a[r]+o)in t)return n;return e}function n(n){return n=e(n),o[n]||(o[n]=t(n))}function r(e,t,r){t=n(t),e.style[t]=r}var a=["Webkit","O","Moz","ms"],o={};return function(e,t){var n,a,o=arguments;if(2==o.length)for(n in t)void 0!==(a=t[n])&&t.hasOwnProperty(n)&&r(e,n,a);else r(e,o[1],o[2])}}();return l})},2136:function(e,t){},2137:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.dealConfigColumns=t.format2quartile=t.getBrandList=t.getFirmList=t.getChannelList=t.renderGroupList=t.userAllow=t.strToArr=t.addKey=void 0;var a=n(0),o=r(a),s=n(105),i=s.Select.Option,l=function(e,t){var n=[];return e.map(function(e,r){e.key=t+r,n.push(e)}),n},u=function(e){var t=[];return e.split(",").map(function(e,n){t.push(parseInt(e,10))}),t},c=function(){return[{key:"1",value:"data",cnName:"渠道数据",url:"/data"},{key:"2",value:"manager",cnName:"渠道管理",url:"/manager"},{key:"3",value:"sys",cnName:"系统管理",url:"/sys"},{key:"4",value:"user",cnName:"用户管理",url:"/user"}]},p=function(e,t){if("NaN"===(e+="")||"Infinity"===e)return"--";if(isNaN(e))return e;if(t&&void 0!=t&&null!=t||(t=4),0===parseFloat(e))return parseFloat(e);if(parseFloat(e)<1)return parseFloat(e).toFixed(t);var n="";e.indexOf(".")>-1&&(n=e.substr(e.indexOf("."),e.length),e=e.substr(0,e.indexOf(".")));for(var r=e.length,a="",o=Math.floor(r/3),s=0;s<o;s++){var i=e.slice(r-3,r);e=e.substr(0,r-3),a=","+i+a,r=e.length}return e+=a,0==e.indexOf(",")&&(e=e.substr(1,e.length)),e+n.substr(0,3)},f=function(e){var t=[];return e.map(function(e,n){t.push(o.default.createElement(i,{key:e.id,value:e.channelName},e.channelName))}),t},d=function(e){var t=[];return e.map(function(e,n){t.push(o.default.createElement(i,{key:e.channelName,value:e.channelName},e.channelName))}),t},h=function(e){var t=[];return e.map(function(e,n){t.push(o.default.createElement(i,{key:e.id,value:e.firm},e.firm))}),t},m=function(e){var t=[];return e.map(function(e,n){t.push(o.default.createElement(i,{key:e.brand,value:e.brand},e.brand))}),t},g=function(e){for(var t=0;t<e.length;t++)e[t].dataIndex&&!e[t].render&&(e[t].render=function(e){return o.default.createElement("span",null,p(e))});return e};t.addKey=l,t.strToArr=u,t.userAllow=c,t.renderGroupList=f,t.getChannelList=d,t.getFirmList=h,t.getBrandList=m,t.format2quartile=p,t.dealConfigColumns=g},2138:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(415),a=function(e,t){for(var n=["abcdefghijklmnopqrstuvwxyz_","ABCDEFGHIJKLMNOPQRSTUVWXYZ","1234567890","~@#$%^&*_+-="],r=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},a=r(e,t),o="",s=0;s<a;++s){var i=r(0,3);o+=n[i].charAt(r(0,n[i].length-1))}return o},o=function(e){for(var t=e.map(function(e){if(""!=e.dataIndex)return e.title}),n=0;n<t.length;n++)void 0===t[n]&&(t.splice(n,1),n--);return t},s=function(e){for(var t=0;t<e.length;t++)""==e[t].dataIndex&&(e.splice(t,1),t--);return e},i=function(e,t){for(var n=[],r=0;r<e.length;r++)n[r]={};for(var a=0;a<t.length;a++)for(var o=t[a].dataIndex,s=0;s<e.length;s++){var i=e[s];switch(o){case"appCode":n[s][o]="24"==i[o]?"Android":"iOS";break;case"channelCategory":n[s][o]="1"==i[o]?"线上":"线下";break;case"isFree":n[s][o]="0"==i[o]?"是":"否";break;default:n[s][o]=i[o]}}return n},l=function(e){var t="全部";return e.brand?t=e.brand:e.firm?t=e.firm:e.deviceModel?t=e.deviceModel:e.appCode&&(t="24"==e.appCode?"Android":"iOS"),"机型管理-"+t+".xlsx"},u=function(e,t,n){var a={};a.fileName=n,a.datas=[{sheetData:e,sheetHeader:t}],new r(a).saveExcel()};t.getRandomPassword=a,t.getDownloadName=l,t.downloadExcle=u,t.dealDownloadTitle=o,t.dealDownloadData=i,t.dealDownloadColumns=s},2139:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Bar=t.Map=t.Pie=t.Line=void 0;var r=n(2137),a=function(e){return{title:{text:""},color:["#7988E1","#74c9ff","#a9e48f","#ffbea1","#f183a0","#9DA8F0","#816CA8","#9DA8F0","#ABD9ED","#6CBADC"],tooltip:{trigger:"axis"},legend:{type:"scroll",data:e.names,left:"left",icon:"rect",itemWidth:15,orient:"horizontal",align:"left",width:"auto",padding:[0,20],pageIconColor:"#6d7ac9",pageIconInactiveColor:"#eceffa",tooltip:{show:!0},formatter:function(e){return e.length>10?e.slice(0,10)+"...":e}},grid:{top:"15%",left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{},xAxis:{type:"category",boundaryGap:!1,data:e.xAxis,showAllSymbol:!1,splitNumber:0,silent:!1,interval:0,axisLabel:{interval:"auto",show:!0,splitNumber:0},axisTick:{interval:0}},yAxis:{type:"value",axisLabel:{formatter:"{value} "}},series:e.series}},o=function(e){return{title:{text:""},tooltip:{trigger:"item",formatter:function(e){return e.seriesName+"<br />"+e.data.name+" : "+(0,r.format2quartile)(e.data.value,0)+"("+e.percent+"%)"}},color:["#7988E1","#74c9ff","#a9e48f","#ffbea1","#f183a0","#9DA8F0","#816CA8","#9DA8F0","#ABD9ED","#6CBADC"],series:[{name:e.name,type:"pie",label:{normal:{show:!1,position:"outside"}},data:e.list,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}},s=function(e){return{title:{text:"",subtext:"",left:""},color:["#7988E1","#74c9ff","#a9e48f","#ffbea1","#f183a0","#9DA8F0","#816CA8","#9DA8F0","#ABD9ED","#6CBADC"],tooltip:{trigger:"item"},visualMap:{min:0,max:e.max,left:"left",top:"bottom",text:["高","低"],color:e.color,calculable:!0},series:[{name:"新增用户地域分布",type:"map",mapType:"china",roam:!1,label:{normal:{show:!0},emphasis:{show:!0}},data:e.areaData}]}},i=function(e){return{title:{text:""},color:["#7988E1","#74c9ff","#a9e48f","#ffbea1","#f183a0","#9DA8F0","#816CA8","#9DA8F0","#ABD9ED","#6CBADC"],tooltip:{trigger:"axis"},legend:{type:"scroll",data:e.names,left:"left",icon:"rect",itemWidth:15,orient:"horizontal",align:"left",width:"auto",padding:[0,20],pageIconColor:"#6d7ac9",pageIconInactiveColor:"#eceffa",tooltip:{show:!0}},grid:{top:"15%",left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{},xAxis:{type:"category",data:e.xAxis,showAllSymbol:!1,splitNumber:0,silent:!1,interval:0,axisLabel:{interval:"auto",show:!0,splitNumber:0},axisTick:{interval:0}},yAxis:{type:"value",axisLabel:{formatter:"{value}"}},series:e.series}};t.Line=a,t.Pie=o,t.Map=s,t.Bar=i},2143:function(e,t,n){function r(e){return n(a(e))}function a(e){var t=o[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var o={"./taffy/lib/taffy":2147};r.keys=function(){return Object.keys(o)},r.resolve=a,e.exports=r,r.id=2143},2145:function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var a=e[r];"."===a?e.splice(r,1):".."===a?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}var a=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(e){return a.exec(e).slice(1)};t.resolve=function(){for(var t="",a=!1,o=arguments.length-1;o>=-1&&!a;o--){var s=o>=0?arguments[o]:e.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(t=s+"/"+t,a="/"===s.charAt(0))}return t=n(r(t.split("/"),function(e){return!!e}),!a).join("/"),(a?"/":"")+t||"."},t.normalize=function(e){var a=t.isAbsolute(e),o="/"===s(e,-1);return e=n(r(e.split("/"),function(e){return!!e}),!a).join("/"),e||a||(e="."),e&&o&&(e+="/"),(a?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var a=r(e.split("/")),o=r(n.split("/")),s=Math.min(a.length,o.length),i=s,l=0;l<s;l++)if(a[l]!==o[l]){i=l;break}for(var u=[],l=i;l<a.length;l++)u.push("..");return u=u.concat(o.slice(i)),u.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=o(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},t.basename=function(e,t){var n=o(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){return o(e)[3]};var s="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(t,n(210))},2146:function(e,t,n){var r=n(2145).sep;e.exports=n(2143)("./taffy"+r+"lib"+r+"taffy").taffy},2147:function(e,t){var n,t,r;!function(){"use strict";var e,t,a,o,s,i,l,u,c,p,f,d,h,m,g,y,C;if(!n)for("2.6.2",s=1,i="000000",l=1e3,u={},c=function(e){return n.isArray(e)||n.isObject(e)?e:JSON.parse(e)},p=function(e,t,n){var a,o,s;if(e&&(r.isArray(e)&&1===e.length||!r.isArray(e)))t(r.isArray(e)?e[0]:e,0);else for(o=0,e=r.isArray(e)?e:[e],s=e.length;o<s&&(a=e[o],r.isUndefined(a)&&!n||t(a,o)!==r.EXIT);o++);},f=function(e,t){var n,a=0;for(n in e)if(e.hasOwnProperty(n)&&t(e[n],n,a++)===r.EXIT)break},u.extend=function(e,t){u[e]=function(){return t.apply(this,arguments)}},d=function(e){var t;return!(!r.isString(e)||!/[t][0-9]*[r][0-9]*/i.test(e))||(!!(r.isObject(e)&&e.___id&&e.___s)||!!r.isArray(e)&&(t=!0,p(e,function(e){if(!d(e))return t=!1,n.EXIT}),t))},m=function(e,t){var a=!0;return p(t,function(t){switch(r.typeOf(t)){case"function":if(!t.apply(e))return a=!1,n.EXIT;break;case"array":a=1===t.length?m(e,t[0]):2===t.length?m(e,t[0])||m(e,t[1]):3===t.length?m(e,t[0])||m(e,t[1])||m(e,t[2]):4===t.length&&(m(e,t[0])||m(e,t[1])||m(e,t[2])||m(e,t[3])),t.length>4&&p(t,function(t){m(e,t)&&(a=!0)})}}),a},h=function(e){var t=[];return r.isString(e)&&/[t][0-9]*[r][0-9]*/i.test(e)&&(e={___id:e}),r.isArray(e)?(p(e,function(e){t.push(h(e))}),e=function(){var e=this,n=!1;return p(t,function(t){m(e,t)&&(n=!0)}),n}):r.isObject(e)?(r.isObject(e)&&e.___id&&e.___s&&(e={___id:e.___id}),f(e,function(e,a){r.isObject(e)||(e={is:e}),f(e,function(e,o){var s,i=[];s="hasAll"===o?function(e,t){t(e)}:p,s(e,function(e){var t,s=!0;t=function(){var t,i=this[a],l="==",u="!=",c="===",p="<",f=">",d="<=",h=">=",m="!==";return 0===o.indexOf("!")&&o!==u&&o!==m&&(s=!1,o=o.substring(1,o.length)),t="regex"===o?e.test(i):"lt"===o||o===p?i<e:"gt"===o||o===f?i>e:"lte"===o||o===d?i<=e:"gte"===o||o===h?i>=e:"left"===o?0===i.indexOf(e):"leftnocase"===o?0===i.toLowerCase().indexOf(e.toLowerCase()):"right"===o?i.substring(i.length-e.length)===e:"rightnocase"===o?i.toLowerCase().substring(i.length-e.length)===e.toLowerCase():"like"===o?i.indexOf(e)>=0:"likenocase"===o?i.toLowerCase().indexOf(e.toLowerCase())>=0:o===c||"is"===o?i===e:o===l?i==e:o===m?i!==e:o===u?i!=e:"isnocase"===o?i.toLowerCase?i.toLowerCase()===e.toLowerCase():i===e:"has"===o?r.has(i,e):"hasall"===o?r.hasAll(i,e):-1!==o.indexOf("is")||n.isNull(i)||n.isUndefined(i)||n.isObject(e)||n.isArray(e)?r[o]&&r.isFunction(r[o])&&0===o.indexOf("is")?r[o](i)===e:!(!r[o]||!r.isFunction(r[o]))&&r[o](i,e):e===i[o],t=!(t&&!s)&&(!t&&!s||t)},i.push(t)}),1===i.length?t.push(i[0]):t.push(function(){var e=this,t=!1;return p(i,function(n){n.apply(e)&&(t=!0)}),t})})}),e=function(){var e=this,n=!0;return n=!(1===t.length&&!t[0].apply(e))&&(!!(2!==t.length||t[0].apply(e)&&t[1].apply(e))&&(!!(3!==t.length||t[0].apply(e)&&t[1].apply(e)&&t[2].apply(e))&&!!(4!==t.length||t[0].apply(e)&&t[1].apply(e)&&t[2].apply(e)&&t[3].apply(e)))),t.length>4&&p(t,function(t){m(e,t)||(n=!1)}),n}):r.isFunction(e)?e:void 0},y=function(e,t){var a=function(e,a){var o=0;return r.each(t,function(t){var s,i,l,u,c;if(s=t.split(" "),i=s[0],"logical"===(l=1===s.length?"logical":s[1]))u=g(e[i]),c=g(a[i]),r.each(u.length<=c.length?u:c,function(e,t){return u[t]<c[t]?(o=-1,n.EXIT):u[t]>c[t]?(o=1,n.EXIT):void 0});else if("logicaldesc"===l)u=g(e[i]),c=g(a[i]),r.each(u.length<=c.length?u:c,function(e,t){return u[t]>c[t]?(o=-1,n.EXIT):u[t]<c[t]?(o=1,n.EXIT):void 0});else{if("asec"===l&&e[i]<a[i])return o=-1,r.EXIT;if("asec"===l&&e[i]>a[i])return o=1,r.EXIT;if("desc"===l&&e[i]>a[i])return o=-1,r.EXIT;if("desc"===l&&e[i]<a[i])return o=1,r.EXIT}if(0===o&&"logical"===l&&u.length<c.length?o=-1:0===o&&"logical"===l&&u.length>c.length?o=1:0===o&&"logicaldesc"===l&&u.length>c.length?o=-1:0===o&&"logicaldesc"===l&&u.length<c.length&&(o=1),0!==o)return r.EXIT}),o};return e&&e.push?e.sort(a):e},function(){var e={},t=0;g=function(n){return t>l&&(e={},t=0),e["_"+n]||function(){var r,a,o,s=String(n),i=[],l="_",u="";for(r=0,a=s.length;r<a;r++)o=s.charCodeAt(r),o>=48&&o<=57||46===o?("n"!==u&&(u="n",i.push(l.toLowerCase()),l=""),l+=s.charAt(r)):("s"!==u&&(u="s",i.push(parseFloat(l)),l=""),l+=s.charAt(r));return i.push("n"===u?parseFloat(l):l.toLowerCase()),i.shift(),e["_"+n]=i,t++,i}()}}(),C=function(){this.context({results:this.getDBI().query(this.context())})},u.extend("filter",function(){var e=n.mergeObj(this.context(),{run:null}),t=[];return p(e.q,function(e){t.push(e)}),e.q=t,p(arguments,function(t){e.q.push(h(t)),e.filterRaw.push(t)}),this.getroot(e)}),u.extend("order",function(e){e=e.split(",");var t,r=[];return p(e,function(e){r.push(e.replace(/^\s*/,"").replace(/\s*$/,""))}),t=n.mergeObj(this.context(),{sort:null}),t.order=r,this.getroot(t)}),u.extend("limit",function(e){var t,r=n.mergeObj(this.context(),{});return r.limit=e,r.run&&r.sort&&(t=[],p(r.results,function(r,a){if(a+1>e)return n.EXIT;t.push(r)}),r.results=t),this.getroot(r)}),u.extend("start",function(e){var t,r=n.mergeObj(this.context(),{});return r.start=e,r.run&&r.sort&&!r.limit?(t=[],p(r.results,function(n,r){r+1>e&&t.push(n)}),r.results=t):r=n.mergeObj(this.context(),{run:null,start:e}),this.getroot(r)}),u.extend("update",function(e,t,a){var o,s=!0,i={},l=arguments;return!n.isString(e)||2!==arguments.length&&3!==arguments.length?(i=e,2===l.length&&(s=t)):(i[e]=t,3===arguments.length&&(s=a)),o=this,C.call(this),p(this.context().results,function(e){var t=i;n.isFunction(t)?t=t.apply(n.mergeObj(e,{})):r.isFunction(t)&&(t=t(n.mergeObj(e,{}))),n.isObject(t)&&o.getDBI().update(e.___id,t,s)}),this.context().results.length&&this.context({run:null}),this}),u.extend("remove",function(e){var t=this,n=0;return C.call(this),p(this.context().results,function(e){t.getDBI().remove(e.___id),n++}),this.context().results.length&&(this.context({run:null}),t.getDBI().removeCommit(e)),n}),u.extend("count",function(){return C.call(this),this.context().results.length}),u.extend("callback",function(e,t){if(e){var n=this;setTimeout(function(){C.call(n),e.call(n.getroot(n.context()))},t||0)}return null}),u.extend("get",function(){return C.call(this),this.context().results}),u.extend("stringify",function(){return JSON.stringify(this.get())}),u.extend("first",function(){return C.call(this),this.context().results[0]||!1}),u.extend("last",function(){return C.call(this),this.context().results[this.context().results.length-1]||!1}),u.extend("sum",function(){var e=0,t=this;return C.call(t),p(arguments,function(n){p(t.context().results,function(t){e+=t[n]})}),e}),u.extend("min",function(e){var t=null;return C.call(this),p(this.context().results,function(n){(null===t||n[e]<t)&&(t=n[e])}),t}),function(){var e=function(){var e,t;return e=function(e,t,n){var r,a,o;switch(2===n.length?(r=e[n[0]],o="===",a=t[n[1]]):(r=e[n[0]],o=n[1],a=t[n[2]]),o){case"===":return r===a;case"!==":return r!==a;case"<":return r<a;case">":return r>a;case"<=":return r<=a;case">=":return r>=a;case"==":return r==a;case"!=":return r!=a;default:throw String(o)+" is not supported"}},t=function(e,t){var r,a,o={};for(r in e)e.hasOwnProperty(r)&&(o[r]=e[r]);for(r in t)t.hasOwnProperty(r)&&"___id"!==r&&"___s"!==r&&(a=n.isUndefined(o[r])?"":"right_",o[a+String(r)]=t[r]);return o},function(r){var a,o,s=arguments,i=s.length,l=[];if("function"!=typeof r.filter){if(!r.TAFFY)throw"TAFFY DB or result not supplied";a=r()}else a=r;return this.context({results:this.getDBI().query(this.context())}),n.each(this.context().results,function(n){a.each(function(r){var a,u=!0;e:for(o=1;o<i&&(a=s[o],u="function"==typeof a?a(n,r):!("object"!=typeof a||!a.length)&&e(n,r,a));o++);u&&l.push(t(n,r))})}),n(l)()}}();u.extend("join",e)}(),u.extend("max",function(e){var t=null;return C.call(this),p(this.context().results,function(n){(null===t||n[e]>t)&&(t=n[e])}),t}),u.extend("select",function(){var e=[],t=arguments;return C.call(this),1===arguments.length?p(this.context().results,function(n){e.push(n[t[0]])}):p(this.context().results,function(n){var r=[];p(t,function(e){r.push(n[e])}),e.push(r)}),e}),u.extend("distinct",function(){var e=[],t=arguments;return C.call(this),1===arguments.length?p(this.context().results,function(r){var a=r[t[0]],o=!1;p(e,function(e){if(a===e)return o=!0,n.EXIT}),o||e.push(a)}):p(this.context().results,function(r){var a=[],o=!1;p(t,function(e){a.push(r[e])}),p(e,function(e){var r=!0;if(p(t,function(t,o){if(a[o]!==e[o])return r=!1,n.EXIT}),r)return o=!0,n.EXIT}),o||e.push(a)}),e}),u.extend("supplant",function(e,t){var n=[];return C.call(this),p(this.context().results,function(t){n.push(e.replace(/\{([^\{\}]*)\}/g,function(e,n){var r=t[n];return"string"==typeof r||"number"==typeof r?r:e}))}),t?n:n.join("")}),u.extend("each",function(e){return C.call(this),p(this.context().results,e),this}),u.extend("map",function(e){var t=[];return C.call(this),p(this.context().results,function(n){t.push(e(n))}),t}),r=function(e){var t,a,o,l=[],g={},C=1,v={template:!1,onInsert:!1,onUpdate:!1,onRemove:!1,onDBChange:!1,storageName:!1,forcePropertyCase:null,cacheSize:100,name:""},_=new Date,b=0,x=0,E={};return a=function(e){var t=[],n=!1;return 0===e.length?l:(p(e,function(e){r.isString(e)&&/[t][0-9]*[r][0-9]*/i.test(e)&&l[g[e]]&&(t.push(l[g[e]]),n=!0),r.isObject(e)&&e.___id&&e.___s&&l[g[e.___id]]&&(t.push(l[g[e.___id]]),n=!0),r.isArray(e)&&p(e,function(e){p(a(e),function(e){t.push(e)})})}),n&&t.length>1&&(t=[]),t)},t={dm:function(e){return e&&(_=e,E={},b=0,x=0),v.onDBChange&&setTimeout(function(){v.onDBChange.call(l)},0),v.storageName&&setTimeout(function(){localStorage.setItem("taffy_"+v.storageName,JSON.stringify(l))}),_},insert:function(e,a){var u=[],d=[],h=c(e);return p(h,function(e,o){var c,h;if(r.isArray(e)&&0===o)return p(e,function(e){u.push("lower"===v.forcePropertyCase?e.toLowerCase():"upper"===v.forcePropertyCase?e.toUpperCase():e)}),!0;r.isArray(e)?(c={},p(e,function(e,t){c[u[t]]=e}),e=c):r.isObject(e)&&v.forcePropertyCase&&(h={},f(e,function(t,n){h["lower"===v.forcePropertyCase?n.toLowerCase():"upper"===v.forcePropertyCase?n.toUpperCase():n]=e[n]}),e=h),C++,e.___id="T"+String(i+s).slice(-6)+"R"+String(i+C).slice(-6),e.___s=!0,d.push(e.___id),v.template&&(e=r.mergeObj(v.template,e)),l.push(e),g[e.___id]=l.length-1,v.onInsert&&(a||n.isUndefined(a))&&v.onInsert.call(e),t.dm(new Date)}),o(d)},sort:function(e){return l=y(l,e.split(",")),g={},p(l,function(e,t){g[e.___id]=t}),t.dm(new Date),!0},update:function(e,a,o){var s,i,u,c,p={};v.forcePropertyCase&&(f(a,function(e,t){p["lower"===v.forcePropertyCase?t.toLowerCase():"upper"===v.forcePropertyCase?t.toUpperCase():t]=e}),a=p),s=l[g[e]],i=r.mergeObj(s,a),u={},c=!1,f(i,function(e,t){(n.isUndefined(s[t])||s[t]!==e)&&(u[t]=e,c=!0)}),c&&(v.onUpdate&&(o||n.isUndefined(o))&&v.onUpdate.call(i,l[g[e]],u),l[g[e]]=i,t.dm(new Date))},remove:function(e){l[g[e]].___s=!1},removeCommit:function(e){var r;for(r=l.length-1;r>-1;r--)l[r].___s||(v.onRemove&&(e||n.isUndefined(e))&&v.onRemove.call(l[r]),g[l[r].___id]=void 0,l.splice(r,1));g={},p(l,function(e,t){g[e.___id]=t}),t.dm(new Date)},query:function(e){var o,s,i,u,c,d;if(v.cacheSize&&(s="",p(e.filterRaw,function(e){if(r.isFunction(e))return s="nocache",n.EXIT}),""===s&&(s=JSON.stringify(r.mergeObj(e,{q:!1,run:!1,sort:!1})))),!e.results||!e.run||e.run&&t.dm()>e.run){if(i=[],v.cacheSize&&E[s])return E[s].i=b++,E[s].results;0===e.q.length&&0===e.index.length?(p(l,function(e){i.push(e)}),o=i):(u=a(e.index),p(u,function(t){(0===e.q.length||m(t,e.q))&&i.push(t)}),o=i)}else o=e.results;return!(e.order.length>0)||e.run&&e.sort||(o=y(o,e.order)),o.length&&(e.limit&&e.limit<o.length||e.start)&&(c=[],p(o,function(t,r){if(!e.start||e.start&&r+1>=e.start)if(e.limit){if((d=e.start?r+1-e.start:r)<e.limit)c.push(t);else if(d>e.limit)return n.EXIT}else c.push(t)}),o=c),v.cacheSize&&"nocache"!==s&&(x++,setTimeout(function(){var e,t;x>=2*v.cacheSize&&(x=0,e=b-v.cacheSize,t={},f(function(n,r){n.i>=e&&(t[r]=n)}),E=t)},0),E[s]={i:b++,results:o}),o}},o=function(){var e,r;return e=n.mergeObj(n.mergeObj(u,{insert:void 0}),{getDBI:function(){return t},getroot:function(e){return o.call(e)},context:function(e){return e&&(r=n.mergeObj(r,e.hasOwnProperty("results")?n.mergeObj(e,{run:new Date,sort:new Date}):e)),r},extend:void 0}),r=this&&this.q?this:{limit:!1,start:!1,q:[],filterRaw:[],index:[],order:[],results:!1,run:null,sort:null,settings:v},p(arguments,function(e){d(e)?r.index.push(e):r.q.push(h(e)),r.filterRaw.push(e)}),e},s++,e&&t.insert(e),o.insert=t.insert,o.merge=function(e,n,r){var a={},s=[],i={};return r=r||!1,n=n||"id",p(e,function(e){var i;a[n]=e[n],s.push(e[n]),i=o(a).first(),i?t.update(i.___id,e,r):t.insert(e,r)}),i[n]=s,o(i)},o.TAFFY=!0,o.sort=t.sort,o.settings=function(e){return e&&(v=n.mergeObj(v,e),e.template&&o().update(e.template)),v},o.store=function(e){var t;return localStorage&&(e&&(t=localStorage.getItem("taffy_"+e),t&&t.length>0&&(o.insert(t),!0),l.length>0&&setTimeout(function(){localStorage.setItem("taffy_"+v.storageName,JSON.stringify(l))})),o.settings({storageName:e})),o},o},n=r,r.each=p,r.eachin=f,r.extend=u.extend,n.EXIT="TAFFYEXIT",n.mergeObj=function(e,t){var n={};return f(e,function(t,r){n[r]=e[r]}),f(t,function(e,r){n[r]=t[r]}),n},n.has=function(e,t){var a,o=!0;if(e.TAFFY)return o=e(t),o.length>0;switch(r.typeOf(e)){case"object":if(r.isObject(t))f(t,function(a,s){if(!0!==o||r.isUndefined(e[s])||!e.hasOwnProperty(s))return o=!1,n.EXIT;o=r.has(e[s],t[s])});else if(r.isArray(t))p(t,function(a,s){if(o=r.has(e,t[s]))return n.EXIT});else if(r.isString(t))return!n.isUndefined(e[t]);return o;case"array":if(r.isObject(t))p(e,function(a,s){if(!0===(o=r.has(e[s],t)))return n.EXIT});else if(r.isArray(t))p(t,function(a,s){if(p(e,function(a,i){if(!0===(o=r.has(e[i],t[s])))return n.EXIT}),!0===o)return n.EXIT});else if(r.isString(t)||r.isNumber(t))for(a=0;a<e.length;a++)if(o=r.has(e[a],t))return!0;return o;case"string":if(r.isString(t)&&t===e)return!0;break;default:if(r.typeOf(e)===r.typeOf(t)&&e===t)return!0}return!1},n.hasAll=function(e,t){var r,a=n;return a.isArray(t)?(r=!0,p(t,function(t){if(!1===(r=a.has(e,t)))return n.EXIT}),r):a.has(e,t)},n.typeOf=function(e){var t=typeof e;return"object"===t&&(e?"number"!=typeof e.length||e.propertyIsEnumerable("length")||(t="array"):t="null"),t},n.getObjectKeys=function(e){var t=[];return f(e,function(e,n){t.push(n)}),t.sort(),t},n.isSameArray=function(e,t){return!(!n.isArray(e)||!n.isArray(t)||e.join(",")!==t.join(","))},n.isSameObject=function(e,t){var r=n,a=!0;return r.isObject(e)&&r.isObject(t)&&r.isSameArray(r.getObjectKeys(e),r.getObjectKeys(t))?f(e,function(o,s){if(!(r.isObject(e[s])&&r.isObject(t[s])&&r.isSameObject(e[s],t[s])||r.isArray(e[s])&&r.isArray(t[s])&&r.isSameArray(e[s],t[s])||e[s]===t[s]))return a=!1,n.EXIT}):a=!1,a},e=["String","Number","Object","Array","Boolean","Null","Function","Undefined"],t=function(e){return function(t){return n.typeOf(t)===e.toLowerCase()}},a=0;a<e.length;a++)o=e[a],n["is"+o]=t(o)}(),"object"==typeof t&&(t.taffy=n)},2225:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getDownLoadData=t.getTables=t.getcharts=t.getChannelGroup=t.changeDate=t.changeChannelCategory=t.changeOs=t.test=void 0,n(2134),n(2237);var a=n(0),o=(r(a),n(2133)),s=r(o),i=n(105),l=function(){},u=function(e,t){return function(n){n({type:"USERCOMPOSE_APPCODE",payload:e.appCode}),n({type:"USERCOMPOSE_CHANNELCATEGORY",payload:""}),n({type:"USERCOMPOSE_CHANNELGROUP",payload:""}),t(e)}},c=function(e,t){return function(n){n({type:"USERCOMPOSE_CHANNELCATEGORY",payload:e.channelCategory}),n({type:"USERCOMPOSE_CHANNELGROUP",payload:""}),t(e)}},p=function(e){return function(t){t({type:"USERCOMPOSE_STARTDATE",payload:e[0]}),t({type:"USERCOMPOSE_ENDDATE",payload:e[1]})}},f=function(e){return function(t){t({type:"USERCOMPOSE_CHANNELGROUP",payload:e.channelGroup}),(0,s.default)({url:"/data/overview/channelGroup.do",method:"post",data:e,type:"json",cache:!0}).then(function(e){e.status?t({type:"USERCOMPOSE_GROUPLIST",payload:e.data}):i.notification.error({message:"获取渠道组失败",description:e.msg}),-1==e.code&&(window.location.href="/")})}},d=function(e){return function(t){t({type:"USERCOMPOSE_CHARTSLOADING",payload:!0}),(0,s.default)({url:"/data/mau/chart.do",method:"post",data:e,type:"json",cache:!0}).then(function(e){t({type:"USERCOMPOSE_CHARTSLOADING",payload:!1}),e.status?(t({type:"USERCOMPOSE_CHARTSDATA",payload:e.data}),t(0==e.data.length?{type:"USERCOMPOSE_CHARTSNODATA",payload:!0}:{type:"USERCOMPOSE_CHARTSNODATA",payload:!1})):i.notification.error({message:"获取图表失败",description:e.msg}),-1==e.code&&(window.location.href="/")})}},h=function(e){return function(t){t({type:"USERCOMPOSE_LIMIT",payload:e.limit}),t({type:"USERCOMPOSE_OFFSET",payload:e.offset}),t({type:"USERCOMPOSE_TABLELOADING",payload:!0}),t({type:"USERCOMPOSE_TYPE",payload:e.type}),t(1==e.type?{type:"USERCOMPOSE_COLUMNS",payload:[{title:"日期",dataIndex:"day",key:"day"},{title:"MTD MAU",dataIndex:"mtdMau",key:"mtdMau"},{title:"上月MAU",dataIndex:"lmMau",key:"lmMau"},{title:"本月新增",dataIndex:"mtdMnu",key:"mtdMnu"},{title:"上月新增本月回访",dataIndex:"maLmn",key:"maLmn"},{title:"上上月活跃上月活跃本月回访",dataIndex:"maLta",key:"maLta"},{title:"历史活跃上月活跃本月回访",dataIndex:"maLha",key:"maLha"},{title:"历史活跃本月回访",dataIndex:"maHa",key:"maHa"}]}:{type:"USERCOMPOSE_COLUMNS",payload:[{title:"日期",dataIndex:"day",key:"day"},{title:"渠道组名称",dataIndex:"channelGroup",key:"channelGroup"},{title:"MTD MAU",dataIndex:"mtdMau",key:"mtdMau"},{title:"上月MAU",dataIndex:"lmMau",key:"lmMau"},{title:"本月新增",dataIndex:"mtdMnu",key:"mtdMnu"},{title:"上月新增本月回访",dataIndex:"maLmn",key:"maLmn"},{title:"上上月活跃上月活跃本月回访",dataIndex:"maLta",key:"maLta"},{title:"历史活跃上月活跃本月回访",dataIndex:"maLha",key:"maLha"},{title:"历史活跃本月回访",dataIndex:"maHa",key:"maHa"}]}),(0,s.default)({url:"/data/mau/table.do",method:"post",data:e,type:"json",cache:!0}).then(function(e){t({type:"USERCOMPOSE_TABLELOADING",payload:!1}),e.status&&(t({type:"USERCOMPOSE_TABLEDATA",payload:e.data}),t({type:"USERCOMPOSE_TOTAL",payload:e.total})),-1==e.code&&(window.location.href="/")})}},m=function(e){return function(t){(0,s.default)({url:"/data/mau/table.do",method:"post",data:e,type:"json",cache:!0}).then(function(e){e.status&&t({type:"USERCOMPOSE_EXCELDATA",payload:e.data}),-1==e.code&&(window.location.href="/")})}};t.test=l,t.changeOs=u,t.changeChannelCategory=c,t.changeDate=p,t.getChannelGroup=f,t.getcharts=d,t.getTables=h,t.getDownLoadData=m},2237:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(414),o=r(a);(window.location.search.indexOf("debug")>0||window.location.search.indexOf("web_ci")>0)&&(o.default.mock("/data/mau/chart.do","post",{total:"@natural(1000, 10000)",status:!0,"data|0-10":[{appCode:0,day:"@datetime('yyyy-MM-dd')",lmMau:"@natural(1000, 10000)",maHa:"@natural(1000, 10000)",maLha:"@natural(1000, 10000)",maLmn:"@natural(1000, 10000)",maLta:"@natural(1000, 10000)",mtdDauAvg:"@natural(1000, 10000)",mtdMau:"@natural(1000, 10000)",mtdMnu:"@natural(1000, 10000)"}],msg:"返回成功"}),o.default.mock("/data/mau/table.do","post",{total:"@natural(1000, 10000)",status:!0,"data|0-10":[{appCode:0,day:"@datetime('yyyy-MM-dd')",lmMau:"@natural(1000, 10000)",maHa:"@natural(1000, 10000)",maLha:"@natural(1000, 10000)",maLmn:"@natural(1000, 10000)",maLta:"@natural(1000, 10000)",mtdDauAvg:"@natural(1000, 10000)",mtdMau:"@natural(1000, 10000)",mtdMnu:"@natural(1000, 10000)",channelGroup:"@word(6)"}],msg:"返回成功"}))}});